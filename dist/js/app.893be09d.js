(function(e){function t(t){for(var r,i,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(m.length)m.shift()();return n.push.apply(n,l||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={app:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0a39":function(e,t,a){"use strict";a("7a50")},"1d86":function(e,t,a){},"25b1":function(e,t,a){"use strict";a("f072")},2793:function(e,t,a){"use strict";a("a6e5")},"292c":function(e,t,a){},"37e2":function(e,t,a){},"3f1d":function(e,t,a){"use strict";a("6143")},"3fe6":function(e,t,a){"use strict";a("1d86")},4678:function(e,t,a){var r={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id="4678"},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var r=a("2b0e"),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",{staticClass:"app"},[a("Navbar"),a("vue-page-transition",{attrs:{name:"fade-in-right"}},[a("router-view")],1)],1)],1)},n=[],i=(a("96cf"),a("1da1")),o=a("5530"),c=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("nav",[a("v-app-bar",{staticClass:"nav-bar",attrs:{dark:"",flat:"",app:"",color:"primary"}},[e.isAuthenticated?a("v-app-bar-nav-icon",{on:{click:function(t){e.drawer=!e.drawer}}}):e._e(),a("v-toolbar-title",{staticClass:"title text-uppercase",on:{click:function(t){e.$router.push("/").catch((function(e){}))}}},[a("span",{staticClass:"font-weight-light"},[e._v("eat")]),a("span",[e._v("os")])]),a("v-spacer"),e.isAuthenticated?e._e():a("v-btn",{attrs:{text:""},on:{click:function(t){e.$router.push("/signin").catch((function(e){}))}}},[a("span",[e._v("log in")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-login")])],1),e.isAuthenticated?a("v-btn",{attrs:{text:""},on:{click:function(t){return e.signout()}}},[a("span",[e._v("log out")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-logout")])],1):e._e()],1),e.isAuthenticated?a("v-navigation-drawer",{staticClass:"drawer",attrs:{dark:"",color:"primary",app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-list",[a("v-list-item-avatar",{staticClass:"ml-6",attrs:{size:"200"}},[a("v-img",{attrs:{src:e.user?e.user.picture:"",alt:"Profile Avatar"}})],1),e._l(e.links,(function(t){return a("v-list-item",{key:t.icon,attrs:{router:"",disabled:!e.user.name},on:{click:function(a){e.$router.push(t.route).catch((function(e){}))}}},[a("v-list-item-action",[a("v-icon",{attrs:{disabled:!e.user.name,left:""}},[e._v(e._s(t.icon))])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.text))])],1)],1)}))],2)],1):e._e()],1)},l=[],u=a("2f62"),d={name:"Header",computed:Object(o["a"])({},Object(u["b"])(["user"])),created:function(){this.user&&(this.isAuthenticated=!0)},data:function(){return{isAuthenticated:!1,drawer:!0,links:[{icon:"mdi-account-box",text:"Dashboard",route:"/dashboard"}]}},methods:{signout:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("signout");case 2:e.$router.push("/signin");case 3:case"end":return t.stop()}}),t)})))()}},watch:{user:function(e){e.id?this.isAuthenticated=!0:this.isAuthenticated=!1}}},m=d,p=(a("3f1d"),a("2877")),f=a("6544"),h=a.n(f),v=a("40dc"),b=a("5bc1"),g=a("8336"),x=a("132d"),w=a("adda"),j=a("8860"),k=a("da13"),C=a("1800"),y=a("8270"),$=a("5d23"),_=a("f774"),V=a("2fa4"),B=a("2a7f"),O=Object(p["a"])(m,c,l,!1,null,"4b237df9",null),S=O.exports;h()(O,{VAppBar:v["a"],VAppBarNavIcon:b["a"],VBtn:g["a"],VIcon:x["a"],VImg:w["a"],VList:j["a"],VListItem:k["a"],VListItemAction:C["a"],VListItemAvatar:y["a"],VListItemContent:$["a"],VListItemTitle:$["b"],VNavigationDrawer:_["a"],VSpacer:V["a"],VToolbarTitle:B["a"]});var A={name:"App",components:{Navbar:S},computed:Object(o["a"])({},Object(u["b"])(["user"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.dispatch("getUser");case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{}}},P=A,E=(a("d086"),a("7496")),R=a("f6c4"),M=Object(p["a"])(P,s,n,!1,null,"e7d6dfe4",null),I=M.exports;h()(M,{VApp:E["a"],VMain:R["a"]});a("b0c0");var q=a("8c4f"),U=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[e._v("Home")])},N=[],T={name:"Home",created:function(){this.$router.push("/dashboard").catch((function(){}))}},z=T,D=Object(p["a"])(z,U,N,!1,null,null,null),L=D.exports,F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"header"},[a("p",{staticClass:"signin-header"},[e._v("Eatos Sign In")])]),a("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[a("div",{staticClass:"card"},[a("p",{staticClass:"card-title-1"},[e._v("Let's Manage")]),a("p",{staticClass:"card-title-2"},[e._v("Food")]),a("v-form",[a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Email","error-messages":e.emailErrors,outlined:"",dense:""},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Password","append-icon":e.show1?"mdi-eye":"mdi-eye-off","error-messages":e.passwordErrors,type:e.show1?"text":"password",outlined:"",dense:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()},"click:append":function(t){e.show1=!e.show1},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signin(t)}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)],1),e.errors?a("v-card-text",{staticClass:"ml-6 red--text"},[e._v(e._s(e.errors))]):e._e(),a("div",{staticClass:"link"},[a("a",{on:{click:function(t){e.$router.push("/signup").catch((function(e){}))}}},[e._v("Don't have an account")])]),a("div",[a("v-btn",{staticClass:"btn text-capitalize",attrs:{color:"primary",disabled:e.$v.$invalid},on:{click:e.signin}},[e._v(" Sign In ")])],1)],1)],1)},J=[],Y=a("1dce"),X=a.n(Y),G=a("b5ae"),H={name:"SignIn",mixins:[Y["validationMixin"]],created:function(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("expiresAt"));e&&t&&a&&a>(new Date).getTime()&&this.$router.push("/dashboard")},computed:{emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("E-mail must be valid"),!this.$v.email.required&&e.push("E-mail is required"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),e):e}},validations:{email:{required:G["required"],email:G["email"]},password:{required:G["required"]}},data:function(){return{show1:!1,email:"",password:"",errors:""}},methods:{signin:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$v.$invalid){t.next=2;break}return t.abrupt("return");case 2:return a={email:e.email,password:e.password},t.next=5,e.$store.dispatch("signin",a);case 5:r=t.sent,r.data.error?e.errors=r.data.error:e.$router.push("/dashboard").catch((function(){}));case 7:case"end":return t.stop()}}),t)})))()}}},W=H,Z=(a("aaab"),a("b0af")),K=a("99d9"),Q=a("a523"),ee=a("4bd4"),te=a("8654"),ae=Object(p["a"])(W,F,J,!1,null,"7adf4c08",null),re=ae.exports;h()(ae,{VBtn:g["a"],VCard:Z["a"],VCardText:K["b"],VContainer:Q["a"],VForm:ee["a"],VTextField:te["a"]});var se=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"header"},[a("p",{staticClass:"signup-header"},[e._v("Eatos Sign Up")])]),a("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[a("div",{staticClass:"card"},[a("p",{staticClass:"card-title-1"},[e._v("Let's Manage")]),a("p",{staticClass:"card-title-2"},[e._v("Food")]),a("v-form",[a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Name","error-messages":e.nameErrors,outlined:"",dense:""},on:{input:function(t){return e.$v.name.$touch()},blur:function(t){return e.$v.name.$touch()}},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Email","error-messages":e.emailErrors,outlined:"",dense:""},on:{input:function(t){return e.$v.email.$touch()},blur:function(t){return e.$v.email.$touch()}},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("v-select",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Gender",items:e.genderList,"error-messages":e.genderErrors,outlined:"",dense:""},on:{change:function(t){return e.$v.gender.$touch()},blur:function(t){return e.$v.gender.$touch()}},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Phone Number e.g; 3123456789","error-messages":e.phoneErrors,outlined:"",dense:""},on:{input:function(t){return e.$v.phone.$touch()},blur:function(t){return e.$v.phone.$touch()}},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Password","error-messages":e.passwordErrors,"append-icon":e.show1?"mdi-eye":"mdi-eye-off",type:e.show1?"text":"password",outlined:"",dense:""},on:{input:function(t){return e.$v.password.$touch()},blur:function(t){return e.$v.password.$touch()},"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Confirm Password","error-messages":e.confirmPassErrors,"append-icon":e.show2?"mdi-eye":"mdi-eye-off",type:e.show2?"text":"password",outlined:"",dense:""},on:{input:function(t){return e.$v.confirmPassword.$touch()},blur:function(t){return e.$v.confirmPassword.$touch()},"click:append":function(t){e.show2=!e.show2},keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.signup(t)}},model:{value:e.confirmPassword,callback:function(t){e.confirmPassword=t},expression:"confirmPassword"}})],1)],1),e.errors?a("v-card-text",{staticClass:"ml-6 red--text"},[e._v(e._s(e.errors))]):e._e(),a("div",{staticClass:"link"},[a("a",{on:{click:function(t){e.$router.push("/signin").catch((function(e){}))}}},[e._v("Already have an account")])]),a("div",[a("v-btn",{staticClass:"btn text-capitalize",attrs:{color:"primary",disabled:e.$v.$invalid},on:{click:e.signup}},[e._v(" Sign Up ")])],1)],1)],1)},ne=[],ie={name:"SignUp",mixins:[Y["validationMixin"]],created:function(){var e=JSON.parse(localStorage.getItem("user")),t=JSON.parse(localStorage.getItem("token")),a=JSON.parse(localStorage.getItem("expiresAt"));e&&t&&a&&a>(new Date).getTime()&&this.$router.push("/dashboard")},computed:{nameErrors:function(){var e=[];return this.$v.name.$dirty?(!this.$v.name.minLength&&e.push("Name must be at least 10 characters long"),!this.$v.name.required&&e.push("Name is required."),e):e},emailErrors:function(){var e=[];return this.$v.email.$dirty?(!this.$v.email.email&&e.push("E-mail must be valid"),!this.$v.email.required&&e.push("E-mail is required"),e):e},genderErrors:function(){var e=[];return this.$v.gender.$dirty?(!this.$v.gender.required&&e.push("Gender is required"),e):e},phoneErrors:function(){var e=[];return this.$v.phone.$dirty?(!this.$v.phone.required&&e.push("Phone number is required"),!this.$v.phone.numeric&&e.push("Phone number must be valid e.g; 3123456789"),!this.$v.phone.minLength&&e.push("Phone number must be valid e.g; 3123456789"),!this.$v.phone.maxLength&&e.push("Phone number must be valid e.g; 3123456789"),e):e},passwordErrors:function(){var e=[];return this.$v.password.$dirty?(!this.$v.password.required&&e.push("Password is required"),!this.$v.password.minLength&&e.push("Password must be at least 8 characters long"),e):e},confirmPassErrors:function(){var e=[];return this.$v.confirmPassword.$dirty?(!this.$v.confirmPassword.required&&e.push("Please confirm password"),!this.$v.confirmPassword.sameAsPassword&&e.push("Passwords do not match"),e):e}},validations:{name:{required:G["required"],minLength:Object(G["minLength"])(10)},email:{required:G["required"],email:G["email"]},gender:{required:G["required"]},phone:{required:G["required"],numeric:G["numeric"],minLength:Object(G["minLength"])(10),maxLength:Object(G["maxLength"])(10)},password:{required:G["required"],minLength:Object(G["minLength"])(8)},confirmPassword:{required:G["required"],sameAsPassword:Object(G["sameAs"])("password")}},data:function(){return{show1:!1,show2:!1,genderList:["Male","Female"],name:"",email:"",gender:"",phone:"",password:"",confirmPassword:"",errors:""}},methods:{signup:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$v.$invalid){t.next=2;break}return t.abrupt("return");case 2:return a={name:e.name,email:e.email,gender:e.gender,phone:"+92".concat(e.phone),password:e.password},t.next=5,e.$store.dispatch("signup",a);case 5:r=t.sent,r.data.error&&r.data.error.keyPattern&&1===r.data.error.keyPattern.email?e.errors="E-mail is already registered":r.data.error?e.errors="Something went wrong":e.$router.push("/edit-profile");case 7:case"end":return t.stop()}}),t)})))()}}},oe=ie,ce=(a("9a43"),a("b974")),le=Object(p["a"])(oe,se,ne,!1,null,"4a9d2c69",null),ue=le.exports;h()(le,{VBtn:g["a"],VCard:Z["a"],VCardText:K["b"],VContainer:Q["a"],VForm:ee["a"],VSelect:ce["a"],VTextField:te["a"]});var de=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("div",{staticClass:"header"},[a("p",{staticClass:"edit-header"},[e._v("Account Set Up")])]),a("v-card",{staticClass:"mx-auto",attrs:{width:"400"}},[a("div",{staticClass:"card"},[a("p",{staticClass:"card-title-1"},[e._v("Let's Manage")]),a("p",{staticClass:"card-title-2"},[e._v("Food")]),a("v-form",{model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("image-input",{staticClass:"image-picker",model:{value:e.avatar,callback:function(t){e.avatar=t},expression:"avatar"}},[a("div",{attrs:{slot:"activator"},slot:"activator"},[e.avatar?a("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"avatar",attrs:{size:"150px"}},[a("img",{attrs:{src:e.avatar.imageURL,alt:"avatar"}})]):a("v-avatar",{directives:[{name:"ripple",rawName:"v-ripple"}],staticClass:"avatar",attrs:{size:"150"}},[a("span",[a("v-icon",{attrs:{"x-large":""}},[e._v("mdi-camera")])],1)])],1)]),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Full Name",rules:e.nameRules,outlined:"",dense:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("v-select",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{items:e.genders,rules:e.genderRules,"small-chips":"",placeholder:"Gender",outlined:"",dense:""},model:{value:e.gender,callback:function(t){e.gender=t},expression:"gender"}}),a("v-text-field",{staticClass:"ml-10 mr-10 rounded-lg",attrs:{placeholder:"Phone Number",rules:e.numberRules,required:"",outlined:"",dense:""},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),a("div",{staticClass:"d-flex justify-end number-example ml-10 mr-10"},[a("p",[e._v("e.g; 923XXXXXXXXX")])])],1)],1),e.errors?a("v-card-text",{staticClass:"ml-6 red--text"},[e._v(e._s(e.errors))]):e._e(),a("div",[a("v-btn",{staticClass:"btn text-capitalize",attrs:{color:"primary",disabled:!e.isValid},on:{click:e.updateUser}},[e._v(" Save ")])],1)],1)],1)},me=[],pe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{on:{click:function(t){return e.launchFilePicker()}}},[e._t("activator")],2),a("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",name:e.uploadFieldName},on:{change:function(t){return e.onFileChange(t.target.name,t.target.files)}}}),a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.errorDialog,callback:function(t){e.errorDialog=t},expression:"errorDialog"}},[a("v-card",[a("p",{staticClass:"errors"},[e._v(e._s(e.errorText))]),a("v-divider"),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){e.errorDialog=!1}}},[e._v("Got it!")]),a("v-spacer")],1)],1)],1)],1)},fe=[],he=(a("d3b7"),a("ac1f"),a("3ca3"),a("466d"),a("ddb0"),a("2b3d"),{name:"image-input",data:function(){return{errorDialog:null,errorText:"",uploadFieldName:"file",maxSize:1024}},props:["value"],methods:{launchFilePicker:function(){this.$refs.file.click()},onFileChange:function(e,t){var a=this.maxSize,r=t[0];if(t.length>0){var s=r.size/a/a;if(r.type.match("image.*"))if(s>1)this.errorDialog=!0,this.errorText="Your file is too big! Please select an image under 1MB";else{var n=new FormData,i=URL.createObjectURL(r);n.append("image",r),this.$emit("input",{formData:n,imageURL:i})}else this.errorDialog=!0,this.errorText="Please choose an image file"}}}}),ve=he,be=(a("2793"),a("169a")),ge=a("ce7e"),xe=Object(p["a"])(ve,pe,fe,!1,null,"647db86c",null),we=xe.exports;h()(xe,{VBtn:g["a"],VCard:Z["a"],VCardActions:K["a"],VDialog:be["a"],VDivider:ge["a"],VSpacer:V["a"]});var je={name:"SignUp",components:{ImageInput:we},computed:Object(o["a"])({},Object(u["b"])(["user"])),created:function(){this.user.name&&this.$router.push("/dashboard").catch((function(){}))},data:function(){return{isValid:!0,hasImage:!1,image:null,name:"",gender:"",mobile:"",genders:["Male","Female","Prefer not to say"],errors:"",avatar:null,saving:!1,saved:!1}},methods:{uploadImage:function(){var e=this;this.saving=!0,setTimeout((function(){return e.savedAvatar()}),1e3)},savedAvatar:function(){this.saving=!1,this.saved=!0},checkValidName:function(e){return/^[a-zA-Z)]*$/.test(e)&&!(e.length<4)||"Name must be valid"},checkValidNumber:function(e){return/^[0-9)]*$/.test(e)?12!==e.length?"Phone number must be valid":"9"===e[0]&&"2"===e[1]&&"3"===e[2]||"Phone number must be valid":"Phone number must be valid"},updateUser:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log(e.avatar.formData.image),e.isValid){t.next=3;break}return t.abrupt("return");case 3:return a=0,"Male"===e.gender?a=0:"Female"===e.gender?a=1:"Prefer not to say"===e.gender&&(a=2),r={name:e.name,gender:a,mobile:e.mobile,image:e.avatar},t.next=8,e.$store.dispatch("updateUser",r);case 8:s=t.sent,s.data.error?e.errors=s.data.error:e.$router.push("/dashboard");case 10:case"end":return t.stop()}}),t)})))()}},watch:{avatar:{handler:function(){this.saved=!1},deep:!0}}},ke=je,Ce=(a("e79f"),a("8212")),ye=a("269a"),$e=a.n(ye),_e=a("5607"),Ve=Object(p["a"])(ke,de,me,!1,null,"5a0f6d73",null),Be=Ve.exports;h()(Ve,{VAvatar:Ce["a"],VBtn:g["a"],VCard:Z["a"],VCardText:K["b"],VContainer:Q["a"],VForm:ee["a"],VIcon:x["a"],VSelect:ce["a"],VTextField:te["a"]}),$e()(Ve,{Ripple:_e["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("v-card",{staticClass:"mx-auto mt-16",attrs:{width:"800px","min-height":"700px",color:"white"}},[a("h1",{staticClass:"card-title"},[e._v("Eatos Summary")]),a("hr",{staticClass:"mt-5 mb-10",attrs:{color:"#E0E0E0"}}),a("div",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"d-flex justify-center",attrs:{xs12:"",md12:"",lg12:""}},[a("h1",{staticClass:"label"},[e._v("Remaining Amount")]),a("h1",{staticClass:"value",class:{positiveAmount:e.wallet.amount>0,negativeAmount:e.wallet.amount<0}},[e._v(" Rs. "+e._s(e.wallet.amount)+" ")])])],1)],1),a("v-card",{staticClass:"mx-auto mt-10",attrs:{width:"700px",flat:""}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.bills,"items-per-page":5},on:{"click:row":e.goToViewBll}})],1)],1)],1)},Se=[],Ae={name:"Dashboard",computed:Object(o["a"])({},Object(u["b"])(["wallet","bills"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("user")).id,t.next=3,e.$store.dispatch("getUserWallet",a);case 3:return t.next=5,e.$store.dispatch("getUserBills",a);case 5:case"end":return t.stop()}}),t)})))()},data:function(){return{headers:[{text:"Date",align:"start",sortable:!0,value:"createdAt"},{text:"Day",align:"start",sortable:!0,value:"day"},{text:"Cost",align:"start",sortable:!0,value:"amount"}]}},methods:{goToViewBll:function(){}}},Pe=Ae,Ee=(a("d056"),a("8fea")),Re=a("0e8f"),Me=a("a722"),Ie=Object(p["a"])(Pe,Oe,Se,!1,null,"3092d36f",null),qe=Ie.exports;h()(Ie,{VCard:Z["a"],VDataTable:Ee["a"],VFlex:Re["a"],VLayout:Me["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("v-card",{staticClass:"mx-auto mt-16",attrs:{width:"800px","min-height":"400px",color:"white"}},[a("h1",{staticClass:"card-title"},[e._v("Total Expense")]),a("hr",{staticClass:"mt-5 mb-10",attrs:{color:"#E0E0E0"}}),a("v-card",{staticClass:"mx-auto",attrs:{width:"700px",flat:""}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{text:""},on:{click:e.addMember}},[a("span",[e._v("Add Member")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-plus")])],1)],1),a("v-form",{staticClass:"ml-10 mr-10 form",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("label",{attrs:{for:"members"}},[e._v("Members")]),e._l(e.todaysBill.participents,(function(t,r){return a("v-row",{key:r,attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"5",lg:"5"}},[a("v-select",{staticClass:"rounded-lg",attrs:{change:e.disableParticipents(t.userId),placeholder:"Name",items:e.participents,outlined:"",dense:""},model:{value:t.userId,callback:function(a){e.$set(t,"userId",a)},expression:"participent.userId"}})],1),a("v-col",{staticClass:"d-flex justify-start",attrs:{cols:"12",xs:"6",sm:"4",md:"2",lg:"2"}},[a("v-checkbox",{staticClass:"mt-1 ml-5",attrs:{label:"Chapati"},model:{value:t.chapati,callback:function(a){e.$set(t,"chapati",a)},expression:"participent.chapati"}})],1),a("v-col",{staticClass:"d-flex justify-start",attrs:{cols:"12",xs:"6",sm:"4",md:"2",lg:"2"}},[a("v-checkbox",{staticClass:"mt-1 ml-5",attrs:{label:"Salan"},model:{value:t.salan,callback:function(a){e.$set(t,"salan",a)},expression:"participent.salan"}})],1),e.todaysBill.participents.length>1?a("v-col",{attrs:{cols:"12",xs:"6",sm:"4",md:"3",lg:"3"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.removeMember(r)}}},[a("span",[e._v("Remove")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-delete")])],1)],1)]):e._e()],1)})),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("label",{attrs:{for:"salan"}},[e._v("Salan Cost")]),a("v-text-field",{staticClass:"rounded-lg mt-1",attrs:{placeholder:"e.g; 1500",type:"number",rules:e.amountRules,required:"",outlined:"",dense:""},model:{value:e.todaysBill.salan,callback:function(t){e.$set(e.todaysBill,"salan",t)},expression:"todaysBill.salan"}})],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("label",{attrs:{for:"chapati"}},[e._v("Chapati Cost")]),a("v-text-field",{staticClass:"rounded-lg mt-1",attrs:{placeholder:"e.g; 1500",type:"number",rules:e.amountRules,required:"",outlined:"",dense:""},model:{value:e.todaysBill.chapati,callback:function(t){e.$set(e.todaysBill,"chapati",t)},expression:"todaysBill.chapati"}})],1)],1)],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-10 mr-2 green lighten-2",attrs:{dark:"",depressed:"",disabled:!e.checkValid()},on:{click:e.saveTodaysBill}},[e._v("Save")]),a("v-btn",{staticClass:"mb-10 mr-8 red lighten-1",attrs:{dark:"",depressed:""},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v("Cancel")])],1)],1)],1)],1)},Ne=[],Te=(a("4160"),a("a434"),a("159b"),{name:"Bill",computed:Object(o["a"])({},Object(u["b"])(["users","todaysBill"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getUsers");case 2:e.users.forEach((function(t){var a={value:t.id,text:t.name};e.participents.push(a)}));case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{isValid:!1,amountRules:[function(e){return!!e||"Amount is required"}],participents:[],selected:""}},methods:{disableParticipents:function(){var e=this;this.participents.forEach((function(t){var a=!1;e.todaysBill.participents.forEach((function(e){t.value===e.userId&&(a=!0)})),t.disabled=!!a}))},addMember:function(){this.todaysBill.participents.push({chapati:!1,salan:!1,amount:0})},removeMember:function(e){this.todaysBill.participents.splice(e,1)},checkValid:function(){for(var e=!0,t=0;t<this.todaysBill.participents.length;t++){if(!this.todaysBill.participents[t].userId){e=!1;break}if(!0===this.todaysBill.participents[t].chapati&&!0===this.todaysBill.participents[t].salan){e=!1;break}if(!this.isValid){e=!1;break}}return e},chapatiAndSalanParticipents:function(e){for(var t=0,a=0,r=0;r<e.length;r++)e[r].chapati||(t+=1),e[r].salan||(a+=1),e[r].amount=0;return{chapatiParticipents:t,salanParticipents:a}},divideCostOnParticipents:function(e){for(var t=e.participents,a=e.chapatiCostPerMember,r=e.salanCostPerMember,s=0;s<t.length;s++)t[s].chapati||(t[s].amount=t[s].amount+a),t[s].salan||(t[s].amount=t[s].amount+r);return t},saveTodaysBill:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,i,o,c,l,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.todaysBill.participents,r=e.chapatiAndSalanParticipents(a),s=r.chapatiParticipents,n=r.salanParticipents,i=e.todaysBill.chapati/s,o=e.todaysBill.salan/n,c={participents:a,chapatiCostPerMember:i,salanCostPerMember:o},a=e.divideCostOnParticipents(c),l=[],a.forEach((function(e){l.push(e.userId)})),u={chapatiCost:parseInt(e.todaysBill.chapati),salanCost:parseInt(e.todaysBill.salan),participents:l,participentsInfo:a},console.log(u),t.next=12,e.$store.dispatch("saveTodaysBill",u);case 12:case"end":return t.stop()}}),t)})))()}}}),ze=Te,De=(a("25b1"),a("ac7c")),Le=a("62ad"),Fe=a("0fd9"),Je=Object(p["a"])(ze,Ue,Ne,!1,null,"96e3aed8",null),Ye=Je.exports;h()(Je,{VBtn:g["a"],VCard:Z["a"],VCardActions:K["a"],VCheckbox:De["a"],VCol:Le["a"],VForm:ee["a"],VIcon:x["a"],VRow:Fe["a"],VSelect:ce["a"],VSpacer:V["a"],VTextField:te["a"]});var Xe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("v-card",{staticClass:"mx-auto mt-16",attrs:{width:"800px","min-height":"700px",color:"white"}},[a("h1",{staticClass:"card-title"},[e._v("All Bills")]),a("hr",{staticClass:"mt-5 mb-10",attrs:{color:"#E0E0E0"}}),a("v-card",{staticClass:"mx-auto mt-10",attrs:{width:"700px",flat:""}},[a("v-data-table",{staticClass:"elevation-2",attrs:{headers:e.headers,items:e.allBills,"items-per-page":5},on:{"click:row":e.goToViewBll}})],1)],1)],1)},Ge=[],He={name:"Dashboard",computed:Object(o["a"])({},Object(u["b"])(["allBills"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getAllBills");case 2:case"end":return t.stop()}}),t)})))()},data:function(){return{headers:[{text:"Date",align:"start",sortable:!0,value:"createdAt"},{text:"Day",align:"start",sortable:!0,value:"day"},{text:"Chapati Cost",align:"start",sortable:!0,value:"chapatiCost"},{text:"Salan Cost",align:"start",sortable:!0,value:"salanCost"}]}},methods:{goToViewBll:function(){}}},We=He,Ze=(a("6f5f"),Object(p["a"])(We,Xe,Ge,!1,null,"1d4c6041",null)),Ke=Ze.exports;h()(Ze,{VCard:Z["a"],VDataTable:Ee["a"]});var Qe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("v-card",{staticClass:"mx-auto mt-16",attrs:{width:"800px","min-height":"400px",color:"white"}},[a("h1",{staticClass:"card-title"},[e._v("Edit Bill")]),a("hr",{staticClass:"mt-5 mb-10",attrs:{color:"#E0E0E0"}}),a("v-card",{staticClass:"mx-auto",attrs:{width:"700px",flat:""}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{text:""},on:{click:e.addMember}},[a("span",[e._v("Add Member")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-plus")])],1)],1),a("v-form",{staticClass:"ml-10 mr-10 form",model:{value:e.isValid,callback:function(t){e.isValid=t},expression:"isValid"}},[a("label",{attrs:{for:"members"}},[e._v("Members")]),e._l(e.activeBill.members,(function(t,r){return a("v-row",{key:r,attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"5",lg:"5"}},[a("v-select",{staticClass:"rounded-lg",attrs:{placeholder:"Name",items:e.allMembers,outlined:"",dense:""},model:{value:t.user.name,callback:function(a){e.$set(t.user,"name",a)},expression:"member.user.name"}})],1),a("v-col",{staticClass:"d-flex justify-start",attrs:{cols:"12",xs:"6",sm:"4",md:"2",lg:"2"}},[a("v-checkbox",{staticClass:"mt-1 ml-5",attrs:{label:"Chapati"},model:{value:t.chapati,callback:function(a){e.$set(t,"chapati",a)},expression:"member.chapati"}})],1),a("v-col",{staticClass:"d-flex justify-start",attrs:{cols:"12",xs:"6",sm:"4",md:"2",lg:"2"}},[a("v-checkbox",{staticClass:"mt-1 ml-5",attrs:{label:"Salan"},model:{value:t.salan,callback:function(a){e.$set(t,"salan",a)},expression:"member.salan"}})],1),e.activeBill.members.length>1?a("v-col",{attrs:{cols:"12",xs:"6",sm:"4",md:"3",lg:"3"}},[a("div",{staticClass:"d-flex justify-end"},[a("v-btn",{attrs:{text:""},on:{click:function(t){return e.removeMember(r)}}},[a("span",[e._v("Remove")]),a("v-icon",{attrs:{dark:"",right:""}},[e._v("mdi-delete")])],1)],1)]):e._e()],1)})),a("v-row",{attrs:{dense:""}},[a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("label",{attrs:{for:"salan"}},[e._v("Salan Cost")]),a("v-text-field",{staticClass:"rounded-lg mt-1",attrs:{placeholder:"e.g; 1500",type:"number",rules:e.amountRules,required:"",outlined:"",dense:""},model:{value:e.activeBill.salan,callback:function(t){e.$set(e.activeBill,"salan",t)},expression:"activeBill.salan"}},[e._v(" >")])],1),a("v-col",{attrs:{cols:"12",sm:"12",md:"6",lg:"6"}},[a("label",{attrs:{for:"chapati"}},[e._v("Chapati Cost")]),a("v-text-field",{staticClass:"rounded-lg mt-1",attrs:{placeholder:"e.g; 1500",type:"number",rules:e.amountRules,required:"",outlined:"",dense:""},model:{value:e.activeBill.chapati,callback:function(t){e.$set(e.activeBill,"chapati",t)},expression:"activeBill.chapati"}},[e._v(" >")])],1)],1)],2),a("v-card-actions",[a("v-spacer"),a("v-btn",{staticClass:"mb-10 mr-2 green lighten-2",attrs:{disabled:!e.checkValid(),dark:"",depressed:""},on:{click:e.updateBill}},[e._v("Save")]),a("v-btn",{staticClass:"mb-10 mr-8 red lighten-1",attrs:{dark:"",depressed:""},on:{click:function(t){return e.$router.push("/dashboard")}}},[e._v("Cancel")])],1)],1)],1)],1)},et=[],tt={name:"Bill",computed:Object(o["a"])({},Object(u["b"])(["activeBill","allMembers"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("getTodaysCost");case 2:return t.next=4,e.$store.dispatch("getAllMembers");case 4:if(!e.$route.params.id){t.next=7;break}return t.next=7,e.$store.dispatch("getActiveBill",e.$route.params.id);case 7:case"end":return t.stop()}}),t)})))()},data:function(){return{isValid:!1,amountRules:[function(e){return!!e||"Amount is required"}]}},methods:{addMember:function(){this.activeBill.members.push({user:{},chapati:!1,salan:!1,cost:0})},removeMember:function(e){this.activeBill.members.splice(e,1)},checkValid:function(){for(var e=!0,t=0;t<this.activeBill.members.length;t++)this.activeBill.members[t].user.name||(e=!1),!1===this.activeBill.members[t].chapati&&!1===this.activeBill.members[t].salan&&(e=!1),this.isValid||(e=!1);return e},chapatiAndSalanMembers:function(e){for(var t=0,a=0,r=0;r<e.length;r++)e[r].chapati&&(t+=1),e[r].salan&&(a+=1),e[r].cost=0;return{chapatiMembers:t,salanMembers:a}},divideCostOnMembers:function(e){for(var t=e.members,a=e.chapatiCostPerMember,r=e.salanCostPerMember,s=0;s<t.length;s++)t[s].chapati&&(t[s].cost=t[s].cost+a),t[s].salan&&(t[s].cost=t[s].cost+r),delete t[s].chapati,delete t[s].salan;return t},updateBill:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r,s,n,i,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=e.activeBill.members,r=e.chapatiAndSalanMembers(a),s=r.chapatiMembers,n=r.salanMembers,i=e.activeBill.chapati/s,o=e.activeBill.salan/n,c={members:a,chapatiCostPerMember:i,salanCostPerMember:o},a=e.divideCostOnMembers(c),l={salan:parseInt(e.activeBill.salan),chapati:parseInt(e.activeBill.chapati),members:a},console.log(l),t.next=10,e.$store.dispatch("updateActiveBill",l);case 10:case"end":return t.stop()}}),t)})))()}}},at=tt,rt=(a("0a39"),Object(p["a"])(at,Qe,et,!1,null,"444d37e8",null)),st=rt.exports;h()(rt,{VBtn:g["a"],VCard:Z["a"],VCardActions:K["a"],VCheckbox:De["a"],VCol:Le["a"],VForm:ee["a"],VIcon:x["a"],VRow:Fe["a"],VSelect:ce["a"],VSpacer:V["a"],VTextField:te["a"]});var nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard"},[a("v-card",{staticClass:"mx-auto mt-16",attrs:{width:"800px","min-height":"700px",color:"white"}})],1)},it=[],ot={name:"ViewBill",computed:Object(o["a"])({},Object(u["b"])(["activeBill"])),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.id){t.next=3;break}return t.next=3,e.$store.dispatch("getActiveBill",e.$route.params.id);case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{bill:{}}},watch:{activeProject:function(e){this.project=e}}},ct=ot,lt=(a("3fe6"),Object(p["a"])(ct,nt,it,!1,null,"72013cab",null)),ut=lt.exports;h()(lt,{VCard:Z["a"]});var dt=[{path:"/",name:"Home",component:L},{path:"/signin",name:"SignIn",component:re},{path:"/signup",name:"SignUp",component:ue},{path:"/edit-profile",name:"EditProfile",component:Be,meta:{requiresAuth:!0}},{path:"/dashboard",name:"Dashboard",component:qe,meta:{requiresAuth:!0}},{path:"/admin/bill",name:"Bill",component:Ye,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/all-bills",name:"AllBills",component:Ke,meta:{requiresAuth:!0,admin:!0}},{path:"/admin/edit-bill",name:"EditBill",component:st,meta:{requiresAuth:!0,admin:!0}},{path:"/view-bill",name:"ViewBill",component:ut,meta:{requiresAuth:!0}}];r["a"].use(q["a"]);var mt=new q["a"]({mode:"history",base:"/",routes:dt});mt.beforeEach((function(e,t,a){var r=JSON.parse(localStorage.getItem("token")),s=JSON.parse(localStorage.getItem("user")),n=JSON.parse(localStorage.getItem("expiresAt"));e.meta.requiresAuth?s&&r&&n?s.name||"/edit-profile"===e.path?e.meta.admin?"admin"===s.role?a():a("/dashboard"):a():a("/edit-profile"):(localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("expiresAt"),a("/signin")):a()}));var pt=mt,ft=a("bc3a"),ht=a.n(ft),vt={all:{env:"production",access_token:"sa68d4asda3sSASdas5651das568_99+"}},bt=vt.all,gt=JSON.parse(localStorage.getItem("token"));ht.a.defaults.withCredentials=!0,"production"===bt.env?ht.a.defaults.baseURL="https://eatos-backend.herokuapp.com/":ht.a.defaults.baseURL="http://localhost:9001/";var xt=function(){return ht.a.create({headers:{Accept:"application/json","Content-Type":"application/json",Authorization:"Bearer ".concat(gt)}})},wt=bt.access_token,jt={user:{}},kt={user:function(e){return e.user}},Ct={signup:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ht.a.post("users/register",{access_token:wt,user:t});case 2:if(r=a.sent,!r.data.error){a.next=5;break}return a.abrupt("return",r);case 5:return e.commit("saveUser",r.data),a.abrupt("return",r);case 7:case"end":return a.stop()}}),a)})))()},signin:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,ht.a.post("auth/sign-in",{access_token:wt},{auth:{username:t.email,password:t.password}});case 2:if(r=a.sent,!r.data.error){a.next=5;break}return a.abrupt("return",r);case 5:return e.commit("saveUser",r.data),a.abrupt("return",r);case 7:case"end":return a.stop()}}),a)})))()},signout:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ht.a.get("auth/sign-out");case 2:e.commit("signout");case 3:case"end":return t.stop()}}),t)})))()},updateUser:function(e,t){return Object(i["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.role=1,r=JSON.parse(localStorage.getItem("user")).id,a.next=4,xt().put("/api/users/".concat(r),t);case 4:return s=a.sent,e.commit("updateUser",s.data),a.abrupt("return",s);case 7:case"end":return a.stop()}}),a)})))()},getUserData:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){var a,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=JSON.parse(localStorage.getItem("user")).id,t.next=3,xt().get("/api/users/".concat(a));case 3:return r=t.sent,e.commit("updateUser",r.data),t.abrupt("return",r);case 6:case"end":return t.stop()}}),t)})))()},getUser:function(e){e.commit("getUserFromLocalStorage")}},yt={saveUser:function(e,t){var a=t.user,r=t.access_token;e.user=a,localStorage.setItem("user",JSON.stringify(a)),localStorage.setItem("token",JSON.stringify(r)),localStorage.setItem("expiresAt",(new Date).getTime()+18e5)},getUserFromLocalStorage:function(e){var t=JSON.parse(localStorage.getItem("user"));e.user=t},signout:function(e){e.user={},localStorage.removeItem("user"),localStorage.removeItem("token"),localStorage.removeItem("expiresAt")},updateUser:function(e,t){t.picture="https://gravatar.com/avatar/".concat(Math.floor(1e6*Math.random())+1,"?d=identicon"),e.user=t,localStorage.setItem("user",JSON.stringify(t))}},$t={state:jt,getters:kt,actions:Ct,mutations:yt},_t=(a("99af"),function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,r){var s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt().get("".concat(a));case 2:return s=e.sent,"You are not authenticated"===s.data.error&&(Jt.dispatch("signout"),pt.push("/signin")),s.data.error||t.commit(r,s.data),e.abrupt("return",s);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()),Vt=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t,a,r,s){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xt().post("".concat(a),s);case 2:return n=e.sent,"You are not authenticated"===n.data.error&&(Jt.dispatch("signout"),pt.push("/signin")),n.data&&t.commit(r,n.data),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t,a,r,s){return e.apply(this,arguments)}}(),Bt={wallet:{}},Ot={wallet:function(e){return e.wallet}},St={getUserWallet:function(e){_t(e,"/wallets","saveUserWallet")}},At={saveUserWallet:function(e,t){e.wallet=t.wallet},saveBills:function(e,t){e.bills=t},saveActiveBill:function(e,t){e.activeBill=t}},Pt={state:Bt,getters:Ot,actions:St,mutations:At},Et=(a("1276"),a("c1df")),Rt=a.n(Et),Mt={bills:[],todaysBill:{participents:[]},allBills:[]},It={bills:function(e){return e.bills},todaysBill:function(e){return e.todaysBill},allBills:function(e){return e.allBills}},qt={getUserBills:function(e){_t(e,"/user-bills","saveUserBills")},saveTodaysBill:function(e,t){Vt(e,"/admin/bills","",t)},getAllBills:function(e){_t(e,"/admin/bills","saveAllBills")}},Ut={saveUserBills:function(e,t){var a=t.userBills;a.forEach((function(e){e.day=Rt()(e.createdAt).format("dddd, MMM Do YYYY").split(",")[0],e.createdAt=Rt()(e.createdAt).format("dddd, MMM Do YYYY").split(",")[1]})),e.bills=a},saveAllBills:function(e,t){var a=t.allBills;a.forEach((function(e){e.day=Rt()(e.createdAt).format("dddd, MMM Do YYYY").split(",")[0],e.createdAt=Rt()(e.createdAt).format("dddd, MMM Do YYYY").split(",")[1]})),e.allBills=t.allBills}},Nt={state:Mt,getters:It,actions:qt,mutations:Ut},Tt={users:[]},zt={users:function(e){return e.users}},Dt={getUsers:function(e){return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,_t(e,"/admin/users","saveUsers");case 2:case"end":return t.stop()}}),t)})))()}},Lt={saveUsers:function(e,t){e.users=t.users}},Ft={state:Tt,getters:zt,actions:Dt,mutations:Lt};r["a"].use(u["a"]);var Jt=new u["a"].Store({modules:{auth:$t,wallet:Pt,bills:Nt,users:Ft}}),Yt=a("f309");r["a"].use(Yt["a"]);var Xt=new Yt["a"]({}),Gt=a("f0eb");r["a"].config.productionTip=!1,r["a"].use(X.a),r["a"].use(Gt["default"]),new r["a"]({router:pt,store:Jt,vuetify:Xt,VuePageTransition:Gt["default"],render:function(e){return e(I)}}).$mount("#app")},6143:function(e,t,a){},"6f5f":function(e,t,a){"use strict";a("fab3")},"78f3":function(e,t,a){},"7a50":function(e,t,a){},"9a43":function(e,t,a){"use strict";a("fdf1")},a6e5:function(e,t,a){},aaab:function(e,t,a){"use strict";a("37e2")},d056:function(e,t,a){"use strict";a("78f3")},d086:function(e,t,a){"use strict";a("f897")},e79f:function(e,t,a){"use strict";a("292c")},f072:function(e,t,a){},f897:function(e,t,a){},fab3:function(e,t,a){},fdf1:function(e,t,a){}});
//# sourceMappingURL=app.893be09d.js.map